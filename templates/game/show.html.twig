{% extends 'base.html.twig' %}

{# HEAD #}
{% block title %}{{ game.title }}{% endblock %}
{# HEADER#}
{% block headerTitle %}{{ game.title }}{% endblock %}
{% block headerParagraphTitle %}{% endblock %}
{% block headerSubtitle %}AppJdr{% endblock %}
{% block headerParagraph %}Lorem ipsum dt. Incidunt, quaerat? adipisicing elit. Incidunt, quaerat?{% endblock %}
{% block headerBadge %}{% endblock %}
{% block buttonHeader %}{% endblock %}
{% block headerImage %}{{ game.coverImage }}{% endblock %}

{#{% set mj = game.mj %}#}
{% block infoTitle %}{% endblock %}
{% block info %}
    {#    {% set mj = game.mj %}#}
    <div class="col">
{#        <a href="{{ path('user_show', {'slug': mj.slug}) }}"><i class="h3 fa fa-user"></i></a>#}
{#        <a href="{{ path('user_show', {'slug': mj.slug}) }}">{{ mj.fullName }}</a>#}
{#        {{ mj.shortDescription | raw }}#}
{#        <span class="badge badge-info text-uppercase">{{ mj.games | length }} Partie cr√©e</span>#}
        {% for user in usergames %}
            {% if loop.first %}{% endif %}
            <div class="card p-3 text-center bg-secondary col-{% if loop.first %}12{% endif %}4">{% if loop.first %}MJ{% endif %}
                <i class=" h1 fas fa-user"></i>
                {{ user.users.lastName }}
                {{ user.users.firstName }}
                {{ user.users.userGames | length }}
            </div>{% if loop.first %}<div class="row justify-content-around col-12 mx-auto">{% endif %}
            {% for game in user.users.userGames %}
            {% endfor %}
        {% endfor %}
    </div>
    </div>

{% endblock %}
{% block bodyTitle %}
    {{ game.title }}


    {#    <a href="{{ path('showCategory', {'slug': game.gamerule.category.slug}) }}" class="btn btn-info m-1 float-right">{{ game.gamerule.category.title }}</a>#}
{#    <a href="{{ path('showGamerule', {'slug': game.gamerule.slug}) }}"#}
{#       class="btn btn-info m-1 float-right">{{ game.gamerule.title }}</a>#}
{% endblock %}
{% block body %}
    <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
            {% for slide in game.gameSlides %}
                <li data-target="#carouselExampleIndicators"
                    data-slide-to="{{ loop.index0 }}"{% if loop.first %} class="active"{% endif %}></li>
            {% endfor %}
        </ol>
        <div class="carousel-inner">
            {% for slide in game.gameSlides %}
                <div class="carousel-item {% if loop.first %}active{% endif %}">
                    <img class="d-block w-100" src="{{ slide.url }}" alt="First slide">
                </div>
                <div class="carousel-caption d-none d-md-block">
                    <h5>{{ game.title }}</h5>
                    <p>{{ game.shortDescription }}</p>
                </div>
            {% endfor %}
        </div>
        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
    <div class="col-12 mx-auto border border-primary mt-2 bg-primary p-3">
        <hr>
        <h4 class="col-4 mx-auto text-center">Description</h4>
        <hr>
        <p class="text-decoration-none">{{ game.longDescription | raw }}</p>
    </div>
{% endblock %}
